{
  "id": "Full_BLE",
  "title": "Amazon FreeRTOS Full BLE Test",
  "details": "this test case will run all Full BLE test against boards",
  "requiredResources": [
    {
      "name": "d1",
      "features": [
        {
          "name": "ble",
          "version": "4.2",
          "jobSlots": 1
        }
      ]
    }
  ],
  "execution": {
    "timeout": 1040000,
    "mac": {
      "cmd": "./../../../afq_mac_x86-64",
      "args": [
        "run-test",
        "--test-group",
        "Full_BLE",
        "--device",
        "{\"board\":\"{{device.id}}\", \"uartConnectivity\" : { \"serialPort\" : \"{{device.connectivity.serialPort}}\"}}",
        "--ble-device",
        "{\"ip\":\"{{resource.devices[?(@.name == 'd1')].connectivity.ip}}\", \"username\" : \"{{resource.devices[?(@.name == 'd1')].connectivity.auth.credentials.user}}\", \"privateKeyPath\" : \"{{resource.devices[?(@.name == 'd1')].connectivity.auth.credentials.privKeyPath}}\"}",
        "--src-path",
        "{{userData.sourcePath}}",
        "--build-cmds",
        "{{userData.buildTool.command[:]}}",
        "--flash-cmds",
        "{{userData.flashTool.command[:]}}",
        "--build-image-info",
        "{\"testsImageName\": \"{{userData.flashTool.buildImageInfo.testsImageName}}\", \"demosImageName\": \"{{userData.flashTool.buildImageInfo.demosImageName}}\"}",
        "--test-artifacts-path",
        "{{testData.testArtifactsPath}}",
        "--test-tmp-src-code-path",
        "{{testData.sourcePath}}",
        "--wifi-enabled",
        "{{devicepool.features[?(@.name == 'WIFI')].value[0]}}"
      ]
    },
    "linux": {
      "cmd": "./../../../afq_linux_x86-64",
      "args": [
        "run-test",
        "--test-group",
        "Full_BLE",
        "--device",
        "{\"board\":\"{{device.id}}\", \"uartConnectivity\" : { \"serialPort\" : \"{{device.connectivity.serialPort}}\"}}",
        "--ble-device",
        "{\"ip\":\"{{resource.devices[?(@.name == 'd1')].connectivity.ip}}\", \"username\" : \"{{resource.devices[?(@.name == 'd1')].connectivity.auth.credentials.user}}\", \"privateKeyPath\" : \"{{resource.devices[?(@.name == 'd1')].connectivity.auth.credentials.privKeyPath}}\"}",
        "--src-path",
        "{{userData.sourcePath}}",
        "--build-cmds",
        "{{userData.buildTool.command[:]}}",
        "--flash-cmds",
        "{{userData.flashTool.command[:]}}",
        "--build-image-info",
        "{\"testsImageName\": \"{{userData.flashTool.buildImageInfo.testsImageName}}\", \"demosImageName\": \"{{userData.flashTool.buildImageInfo.demosImageName}}\"}",
        "--test-artifacts-path",
        "{{testData.testArtifactsPath}}",
        "--test-tmp-src-code-path",
        "{{testData.sourcePath}}",
        "--wifi-enabled",
        "{{devicepool.features[?(@.name == 'WIFI')].value[0]}}"
      ]
    },
    "win": {
      "cmd": "./../../../afq_win_x86-64.exe",
      "args": [
        "run-test",
        "--test-group",
        "Full_BLE",
        "--device",
        "{\"board\":\"{{device.id}}\", \"uartConnectivity\" : { \"serialPort\" : \"{{device.connectivity.serialPort}}\"}}",
        "--ble-device",
        "{\"ip\":\"{{resource.devices[?(@.name == 'd1')].connectivity.ip}}\", \"username\" : \"{{resource.devices[?(@.name == 'd1')].connectivity.auth.credentials.user}}\", \"privateKeyPath\" : \"{{resource.devices[?(@.name == 'd1')].connectivity.auth.credentials.privKeyPath}}\"}",
        "--src-path",
        "{{userData.sourcePath}}",
        "--build-cmds",
        "{{userData.buildTool.command[:]}}",
        "--flash-cmds",
        "{{userData.flashTool.command[:]}}",
        "--build-image-info",
        "{\"testsImageName\": \"{{userData.flashTool.buildImageInfo.testsImageName}}\", \"demosImageName\": \"{{userData.flashTool.buildImageInfo.demosImageName}}\"}",
        "--test-artifacts-path",
        "{{testData.testArtifactsPath}}",
        "--test-tmp-src-code-path",
        "{{testData.sourcePath}}",
        "--wifi-enabled",
        "{{devicepool.features[?(@.name == 'WIFI')].value[0]}}"
      ]
    }
  }
}